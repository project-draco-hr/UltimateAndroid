{
  progressView=new View(getContext());
  LayoutParams params=new LayoutParams(1,1);
  progressView.setLayoutParams(params);
  progressView.setBackgroundResource(R.drawable.material_design_background_progress);
  addView(progressView);
  int bacgroundColor=attrs.getAttributeResourceValue(ANDROIDXML,"background",-1);
  if (bacgroundColor != -1) {
    setBackgroundColor(getResources().getColor(bacgroundColor));
  }
 else {
    String background=attrs.getAttributeValue(ANDROIDXML,"background");
    if (background != null)     setBackgroundColor(Color.parseColor(background));
 else     setBackgroundColor(Color.parseColor("#1E88E5"));
  }
  min=attrs.getAttributeIntValue(MATERIALDESIGNXML,"min",0);
  max=attrs.getAttributeIntValue(MATERIALDESIGNXML,"max",100);
  progress=attrs.getAttributeIntValue(MATERIALDESIGNXML,"progress",min);
  setMinimumHeight(Utils.dpToPx(3,getResources()));
  post(new Runnable(){
    @Override public void run(){
      LayoutParams params=(LayoutParams)progressView.getLayoutParams();
      params.height=getHeight();
      progressView.setLayoutParams(params);
    }
  }
);
}
