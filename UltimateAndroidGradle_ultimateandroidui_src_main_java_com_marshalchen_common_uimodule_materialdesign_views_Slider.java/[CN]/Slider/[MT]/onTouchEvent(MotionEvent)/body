{
  isLastTouch=true;
  if (isEnabled()) {
    if (event.getAction() == MotionEvent.ACTION_DOWN || event.getAction() == MotionEvent.ACTION_MOVE) {
      if (numberIndicator != null && numberIndicator.isShowing() == false)       numberIndicator.show();
      if ((event.getX() <= getWidth() && event.getX() >= 0) && (event.getY() <= getHeight() && event.getY() >= 0)) {
        press=true;
        int newValue=0;
        float division=(ball.xFin - ball.xIni) / max;
        if (event.getX() > ball.xFin) {
          newValue=max;
        }
 else         if (event.getX() < ball.xIni) {
          newValue=min;
        }
 else {
          newValue=(int)((event.getX() - ball.xIni) / division);
        }
        if (value != newValue) {
          value=newValue;
          if (onValueChangedListener != null)           onValueChangedListener.onValueChanged(newValue);
        }
        float x=event.getX();
        x=(x < ball.xIni) ? ball.xIni : x;
        x=(x > ball.xFin) ? ball.xFin : x;
        ViewHelper.setX(ball,x);
        ball.changeBackground();
        if (numberIndicator != null) {
          numberIndicator.indicator.x=x;
          numberIndicator.indicator.finalY=Utils.getRelativeTop(this) - getHeight() / 2;
          numberIndicator.indicator.finalSize=getHeight() / 2;
          numberIndicator.numberIndicator.setText("");
        }
      }
 else {
        press=false;
        isLastTouch=false;
        if (numberIndicator != null)         numberIndicator.dismiss();
      }
    }
 else     if (event.getAction() == MotionEvent.ACTION_UP) {
      if (numberIndicator != null)       numberIndicator.dismiss();
      isLastTouch=false;
      press=false;
      if ((event.getX() <= getWidth() && event.getX() >= 0) && (event.getY() <= getHeight() && event.getY() >= 0)) {
      }
    }
  }
  return true;
}
