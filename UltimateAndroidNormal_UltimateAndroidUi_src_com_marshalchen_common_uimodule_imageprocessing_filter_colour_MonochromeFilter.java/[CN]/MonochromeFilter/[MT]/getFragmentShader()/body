{
  return "precision mediump float;\n" + "uniform sampler2D " + UNIFORM_TEXTURE0 + ";\n"+ "varying vec2 "+ VARYING_TEXCOORD+ ";\n"+ "uniform float "+ UNIFORM_INTENSITY+ ";\n"+ "uniform vec3 "+ UNIFORM_COLOUR+ ";\n"+ "vec3 luminanceWeighting = vec3(0.2125, 0.7154, 0.0721);\n"+ "void main(){\n"+ "   vec4 color = texture2D("+ UNIFORM_TEXTURE0+ ","+ VARYING_TEXCOORD+ ");\n"+ "   float luminance =  dot(color.rgb, luminanceWeighting);\n"+ "   vec4 desat = vec4(vec3(luminance), 1.0);\n"+ "   vec4 outputColour = vec4(\n"+ "     (desat.r < 0.5 ? (2.0 * desat.r * "+ UNIFORM_COLOUR+ ".r) : (1.0 - 2.0 * (1.0 - desat.r) * (1.0 - "+ UNIFORM_COLOUR+ ".r))),\n"+ "     (desat.g < 0.5 ? (2.0 * desat.g * "+ UNIFORM_COLOUR+ ".g) : (1.0 - 2.0 * (1.0 - desat.g) * (1.0 - "+ UNIFORM_COLOUR+ ".g))),\n"+ "     (desat.b < 0.5 ? (2.0 * desat.b * "+ UNIFORM_COLOUR+ ".b) : (1.0 - 2.0 * (1.0 - desat.b) * (1.0 - "+ UNIFORM_COLOUR+ ".b))),\n"+ "     1.0);\n"+ "   gl_FragColor = vec4(mix(color.rgb, outputColour.rgb, "+ UNIFORM_INTENSITY+ "), color.a);\n"+ "}\n";
}
